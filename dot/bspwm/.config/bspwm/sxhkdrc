# vim: ft=sh

# quit bspwm
super + ctrl + alt + shift + q; q
        bspc quit
# restart bspwm
super + ctrl + alt + shift + w; w
    bspc wm --restart
# reload sxhkd
super + ctrl + alt + shift + e; e
    truncate --size 0 "$BSPWM_TMP/sxhkd.log" 2> /dev/null;\
    pkill -x sxhkd -u "$USER" -USR1

# terminal
super + Return
    st -e 'fish'

# pass manager
super + semicolon; p;a;s;s
    st -c 'st-passmenu' -g '75x15' ~/.config/bspwm/s/passmenu

# program launcher
super + r
    exec $(dmenu_path | dmenu)

# screenshot
super + Print
    screenshot

# lock screen
XF86ScreenSaver
    slock

# backlight control
XF86MonBrightnessUp
    xbacklight +5
XF86MonBrightnessDown
    xbacklight -5

# volume control
XF86AudioRaiseVolume
    ~/.config/bspwm/s/volume '+'
XF86AudioLowerVolume
    ~/.config/bspwm/s/volume '-'
XF86AudioMute
    ~/.config/bspwm/s/volume '!'

# close current window
super + Escape
    bspc node 'focused.window' --close
# close current node
super + shift + Escape
    bspc node --close

# window state
super + t
    bspc node --state tiled || bspc node --state fullscreen
super + shift + t
    bspc node --state pseudo_tiled || bspc node --state tiled
super + f
    bspc node --state fullscreen || bspc node --state tiled
super + shift + f
    bspc node --state floating || bspc node --state fullscreen
super + c
    bspc desktop --layout next

# show all windows in current monitor
super + w
    bspc query --tree --monitor \
        | ~/.config/bspwm/s/windos_list \
        | dmenu -l 10 | "$SHELL"

# show all windows in current desktop
super + shift + w
    bspc query --tree --desktop \
        | ~/.config/bspwm/s/windos_list --desktop \
        | dmenu -l 10 | "$SHELL"

# node state
super + s
    printf "%s\n%s\n%s\n%s\n%s" \
            'bspc node --flag hidden' \
            'bspc node --flag sticky' \
            'bspc node --flag private' \
            'bspc node --flag locked' \
            'bspc node --flag marked' \
        | dmenu -l 5 | "$SHELL"

# focus a node, or monitor if no node
super + h
    bspc node --focus 'west.normal' || bspc monitor --focus 'west'
super + j
    bspc node --focus 'south.normal' || bspc monitor --focus 'south'
super + k
    bspc node --focus 'north.normal' || bspc monitor --focus 'north'
super + l
    bspc node --focus 'east.normal' || bspc monitor --focus 'east'
super + p
    bspc node --focus '@parent'
super + o
    bspc node --focus '@brother'
super + i
    bspc node --focus 'last.window.normal.local'
super + m
    bspc node --focus 'biggest.local.normal'

# switch to next window in current desktop
super + Tab
    bspc node --focus 'next.local.window.normal'
super + shift + Tab
    bspc node --focus 'prev.local.window.normal'

# swap node
super + shift + h
    bspc node --swap 'west.local'
super + shift + j
    bspc node --swap 'south.local'
super + shift + k
    bspc node --swap 'north.local'
super + shift + l
    bspc node --swap 'east.local'

# resize 20
super + ctrl + h
    bspc node focused.tiled --resize left -20 0;\
    bspc node --resize right -20 0
super + ctrl + j
    bspc node focused.tiled --resize top 0 20;\
    bspc node --resize bottom 0 20
super + ctrl + k
    bspc node focused.tiled --resize top 0 -20;\
    bspc node --resize bottom 0 -20
super + ctrl + l
    bspc node focused.tiled --resize left 20 0;\
    bspc node --resize right 20 0

# resize 1
super + ctrl + shift + h
    bspc node focused.tiled --resize left -1 0;\
    bspc node --resize right -1 0
super + ctrl + shift + j
    bspc node focused.tiled --resize top 0 1;\
    bspc node --resize bottom 0 1
super + ctrl + shift + k
    bspc node focused.tiled --resize top 0 -1;\
    bspc node --resize bottom 0 -1
super + ctrl + shift + l
    bspc node focused.tiled --resize left 1 0;\
    bspc node --resize right 1 0

# preselect
super + alt + h
    bspc node --presel-dir '~west'
super + alt + j
    bspc node --presel-dir '~south'
super + alt + k
    bspc node --presel-dir '~north'
super + alt + l
    bspc node --presel-dir '~east'

# move a floating window
super + {Left,Down,Up,Right}
    bspc node --move {-10 0,0 10,0 -10,10 0}
super + shift + {Left,Down,Up,Right}
    bspc node --move {-1 0,0 1,0 -1,1 0}

# node to desktop
super + shift + F{1-9,10,11,12}
    bspc node --to-desktop ';{a-l}'
super + asciitilde
    bspc node --to-desktop 'last'

# desktop
super + F{1-9,10,11,12}
    bspc desktop --focus ';{a-l}'
super + grave
    bspc desktop --focus 'last'
super + 1
    bspc desktop --focus 'prev.local'
super + 2
    bspc desktop --focus 'next.local'
